<!-- Top browsing element: Displays image and informations about current container -->
<div class="outer-container">
    <div class="d-flex">
        <div>
            <img class="cardLayout image-container" src="{{currentContainer.albumartUri}}" class="img-top" alt="select media server ...">
        </div>
        <div *ngIf="isLeaf(); else containerTitle" class="d-flex flex-column pl-4">
            <div class="d-flex flex-column">
                <div class="title">{{currentContainer.title}}</div>
                <div *ngIf="currentContainer.artist" class="regular">by <span
                        class="highlight">{{currentContainer.artist}}</span>
                </div>
                <div *ngIf="itemsCount > 0" class="pt-3 regular">{{containerType}} contains <span
                        class="highlight">{{itemsCount}}</span> title</div>
                <div *ngIf="totalPlaytime.length > 0" class="pt-1 regular">Total play time <span
                        class="highlight">{{totalPlaytime}}</span></div>
            </div>
            <div class="d-flex mt-4">
                <button mat-flat-button class="my-buttons" (click)="playPlaylist(currentContainer)">
                    <mat-icon class="mr-1" style="vertical-align: top;" svgIcon="play"></mat-icon>
                    play
                </button>
                <button mat-flat-button class="my-buttons" (click)="shufflePlaylist(currentContainer)">
                    <mat-icon class="mr-1" style="vertical-align: top;" svgIcon="shuffle-variant"></mat-icon>
                    shuffle
                </button>
                <button mat-flat-button class="my-buttons"
                    (click)="playlistService.addContainerToPlaylist(currentContainer)">
                    <mat-icon class="mr-1" style="vertical-align: top;" svgIcon="playlist-plus"
                        aria-label="add to playlist">
                    </mat-icon>
                    add tracks
                </button>

                <!-- minim server support -->
                <button *ngIf="minimTagsList?.length > 0" mat-flat-button class="my-buttons"
                    (click)="openMinimTagDialog($event)">
                    <mat-icon class="mr-1" style="vertical-align: top;" svgIcon="tag"></mat-icon>Tags
                </button>
            </div>
        </div>
    </div>
</div>

<ng-template #containerTitle>
    <div class="d-flex flex-column infobox">
        <div class="title">{{currentContainer.title}} <span class="regular pl-2">consists of</span></div>
        <div *ngIf="albumList?.length > 0" class="regular"><span class="highlight pr-2">{{albumList?.length}}</span>
            Playlist<span *ngIf="albumList?.length > 1">s</span></div>
        <div *ngIf="playlistList.length > 0" class="regular"><span class="highlight pr-2">{{playlistList.length}}</span>
            Playlist<span *ngIf="playlistList.length > 1">s</span></div>
        <div *ngIf="containerList.length > 0" class="regular"><span
                class="highlight pr-2">{{containerList.length}}</span> Folder<span
                *ngIf="containerList.length > 1">s</span></div>
        <div *ngIf="itemsCount > 0" class="regular"><span class="highlight pr-2">{{itemsCount}}</span> Track<span
                *ngIf="itemsCount > 1">s</span></div>
    </div>
</ng-template>


<div class="section head"></div>

<!--
 Playlist Elements
 =========================================== 
-->
<div *ngIf="playlistList?.length > 0">
    <div class="cardLayout">
        <div id="{{container.id}}" tabindex="-1" class="cardLayout cover-card" *ngFor="let container of playlistList">
            <div class="cardLayout image-container">
                <img class="cardLayout image-container" src="{{container.albumartUri}}" alt="{{container.title}}">
                <div class="cardLayout play-overlay d-flex flex-column justify-content-center align-items-center">
                    <div class="d-flex justify-content-center align-items-center">
                        <mat-icon (click)="browseTo(container)" class="play-overlay-button"
                            svgIcon="folder-move-outline" aria-label="step into folder">
                        </mat-icon>
                    </div>
                    <div class="d-flex justify-content-center align-items-center">
                        <mat-icon (click)="playPlaylist(container)" class="play-overlay-button" svgIcon="play"
                            aria-label="app to playlist and play">
                        </mat-icon>
                        <mat-icon (click)="playlistService.addContainerToPlaylist(container)"
                            class="play-overlay-button" svgIcon="playlist-plus" aria-label="add to playlist">
                        </mat-icon>
                    </div>
                </div>
            </div>
            <div class="d-flex cardLayout card-body">
                <div class="playlistText">PLAYLIST</div>
                <div class="card-title">{{container.title}}</div>
            </div>
        </div>
    </div>
</div>

<!-- container elements -->

<div *ngIf="containerList?.length > 0">
    <div class="cardLayout">
        <div class="cardLayout cover-card" id="{{container.id}}" tabindex="-1" (click)="browseTo(container)"
            *ngFor="let container of containerList">
            <img class="cardLayout image-container" src="{{container.albumartUri}}" class="" alt="{{container.title}}">
            <div class="d-flex cardLayout card-body">
                <div class="card-title">{{container.title}}</div>
            </div>
        </div>
    </div>
</div>
