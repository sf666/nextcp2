<div class="flex flex-row flex-nowrap justify-between fixed inset-x-0 bottom-0 footer bg-zinc-950">
  <!-- left footer section -->
  <div id="left-section" class="flex min-w-4xs grow-3 basis-0 min-w-3xs">
    <img src="{{rendererService.imgSrc()}}">

    <div class="flex flex-col w-full albumAndTitle">
      <div class="title no-wrap">{{getCurrentSongTitle()}}</div>
      <div class="flex flex-col no-wrap">
        @if (rendererService.trackInfo().currentTrack?.artistName ) {
          <div class="align-self-start artist">{{rendererService.trackInfo().currentTrack?.artistName}}
          </div>
        } @else {
          <div>&nbsp;</div>
        }
        @if (rendererService.trackInfo().currentTrack?.album) {
          <div class="align-self-start album">{{rendererService.trackInfo().currentTrack?.album}}</div>
        } @else {
          <div>&nbsp;</div>
        }
      </div>
    </div>
    <div class="qualityBadge">
      <quality-badge [item]="rendererService.trackInfo().currentTrack"></quality-badge>
    </div>
  </div>

  <!-- Middle footer section -->
  <div id="middle-section" class="flex grow-2 min-w-3xs justify-center h-full basis-0 mx-4">
    <div class="flex grow max-w-md flex-col ">
      <div class="player-button-group">
        <span class="material-symbols-outlined icon-button {{shuffleClass}}" (click)="playlistService.toggleShuffle()">shuffle</span>
        <span class="material-symbols-outlined icon-button" (click)="playlistService.previous()">skip_previous</span>
        @if (!rendererService.isPlaying()) {
          <span class="material-symbols-outlined md-48 icon-button" (click)="rendererService.play()">play_arrow</span>
        }
        @if (rendererService.isPlaying()) {
          <span class="material-symbols-outlined md-48 icon-button" (click)="rendererService.pause()">pause_circle</span>
        }
        <span class="material-symbols-outlined icon-button" (click)="rendererService.next()">skip_next</span>
        <span class="material-symbols-outlined icon-button {{repeatClass}}" (click)="playlistService.toggleRepeat()">repeat</span>
      </div>
      <div id="timeProgressContainer" class="pb-4 flex">
        <div class="timeText">{{rendererService.trackTime().secondsDisp}}</div>
        <div class="timeSliderBox">
          @if (!streaming()) {
            <input 
              type="range" 
              min="0" 
              max="100" 
              step="1" 
              [value]="trackTimePercent()" 
              (input)="trackTimePercentSeek($event.target.value)"
              class="time-range-slider"
              style="--value: {{trackTimePercent()}}%"
            />
          } @else {
            <div class="time-progress-static w-full"></div>
          }
        </div>
        @if (!streaming()) {
          <div class="timeText">{{getFinishTime()}}</div>
        }
      </div>
    </div>
  </div>

  <!-- right footer section -->
  <div id="right-section" class="flex grow-3 min-w-4xs justify-end me-4 basis-0">
    <div class="flex self-center">
      <div class="flex items-center">
        <!-- Speaker button with name for XL+ screens -->
        <div class="hidden lg:flex items-center gap-2 px-3 mr-6 py-1 border border-amber-400 rounded transition-colors cursor-pointer grow shrink max-w-65" (click)="rendererClicked($event)">
          <span class="material-symbols-outlined text-amber-400 flex-shrink-0">speaker</span>
          <span class="text-sm text-amber-400 font-light truncate">{{currentMediaRendererName()}}</span>
        </div>
        <!-- Speaker icon only for smaller screens -->
        <div class="flex lg:hidden">
          <span class="material-symbols-outlined icon-main" (click)="rendererClicked($event)">speaker</span>
        </div>
        
        <div class="material-symbols-outlined icon-main" (click)="serverClicked($event)">dns</div>
        @if (hasDeviceDriver()) {
          <span class="material-symbols-outlined {{getStandbyClass()}} icon-main" (click)="powerClicked()">power_settings_new</span>
        }
        <span class="material-symbols-outlined icon-main" (click)="volumeClicked($event)">volume_up</span>
      </div>
    </div>
  </div>
</div>

